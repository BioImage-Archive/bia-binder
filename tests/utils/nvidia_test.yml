apiVersion: v1
kind: Pod
metadata:
  name: gpu-pod
spec:
  containers:
    # - name: cuda-container
    #   image: nvidia/cuda:9.0-devel
    #   resources:
    #     limits:
    #       nvidia.com/gpu: "1" # requesting 2 GPUs
    #       # nvidia.com/gpu.present: True # requesting 2 GPUs
    - name: digits-container
      image: nvidia/digits:6.0
      resources:
        limits:
          nvidia.com/gpu: "1" # requesting 2 GPUs
          # nvidia.com/gpu.present: true # requesting 2 GPUs


          # kubectl run -it --rm \
  #  --image=nvidia/cuda:11.0-base \
  #  --restart=Never \
  #  --limits=nvidia.com/gpu=1 \
  #  mig-none-example -- nvidia-smi -L